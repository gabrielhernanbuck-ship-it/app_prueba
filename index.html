<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ARGEN-PAY — Prototipo Móvil</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- FontAwesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

  <!-- Custom -->
  <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-light">

  <!-- Phone frame / app viewport -->
  <div class="phone-outer shadow-sm mx-auto mt-4">
    <div class="phone-screen p-3 d-flex flex-column">

      <!-- SPA screens (only one visible at a time) -->
      <!-- Screen: Home (Initial) -->
      <section id="screen-home" class="screen active">
        <div class="text-center mt-3">
          <div class="brand-pill">ARGEN-PAY</div>
          <div class="powered">Powered By BANCO X</div>
        </div>

        <div class="mt-5 d-grid gap-3 px-3">
          <button class="btn btn-primary btn-lg" id="btn-login">LOG IN</button>
          <button class="btn btn-light border btn-lg" id="btn-signin">SING IN</button>
          <button class="btn btn-light border btn-lg" id="btn-cash">CASH IN/OUT</button>
        </div>

        <div class="mt-auto text-center small text-muted">Versión 1.0</div>
      </section>

      <!-- Screen: Language selection (Sing In step B) -->
      <section id="screen-lang" class="screen">
        <div class="topbar">
          <div class="brand-pill small">ARGEN-PAY</div>
          <button class="btn-close btn-close-white float-end" onclick="goHome()" title="Cerrar"></button>
        </div>

        <h5 class="mt-3">Elija un idioma para continuar...</h5>
        <div class="d-grid gap-2 mt-3">
          <button class="btn btn-light border" onclick="showScreen('screen-signup-step1')">INGLÉS</button>
          <button class="btn btn-light border" onclick="showScreen('screen-signup-step1')">ESPAÑOL</button>
          <button class="btn btn-light border" onclick="showScreen('screen-signup-step1')">PORTUGUÉS</button>
          <button class="btn btn-light border" onclick="showScreen('screen-signup-step1')">FRANCÉS</button>
        </div>

        <div class="mt-auto text-end small text-muted">Versión 1.0</div>
      </section>

      <!-- Screen: Sign up step 1 (Pantalla C) -->
      <section id="screen-signup-step1" class="screen">
        <div class="topbar">
          <div class="brand-pill small">ARGEN-PAY</div>
          <button class="btn-close btn-close-white float-end" onclick="showScreen('screen-home')" title="Cerrar"></button>
        </div>

        <h5 class="mt-2">Bienvenido a ARGENPAY!</h5>
        <small class="text-muted">Vamos a necesitar algo de información para continuar...</small>

        <form id="signup-form" class="mt-3">
          <div class="mb-2">
            <input class="form-control form-control-sm" placeholder="Nombre Completo" required>
          </div>
          <div class="mb-2">
            <input class="form-control form-control-sm" placeholder="Apellido" required>
          </div>
          <div class="mb-2">
            <input type="email" class="form-control form-control-sm" placeholder="Ingresar correo electrónico" required>
          </div>
          <div class="mb-2">
            <input class="form-control form-control-sm" placeholder="Ingresar teléfono">
          </div>
          <div class="mb-2">
            <input type="password" class="form-control form-control-sm" placeholder="Ingresar una contraseña" required>
          </div>
          <div class="mb-2">
            <input type="password" class="form-control form-control-sm" placeholder="Repetir la contraseña" required>
          </div>

          <div class="d-flex gap-2 mb-3">
            <button type="button" class="btn btn-secondary btn-sm" onclick="showScreen('screen-lang')">&lt; VOLVER</button>
            <button type="button" class="btn btn-primary btn-sm ms-auto" onclick="showScreen('screen-signup-step2')">CONTINUAR</button>
          </div>

          <div class="d-flex gap-2">
            <button type="button" class="btn btn-outline-secondary btn-sm" onclick="openModal('modal-scan')"><i class="fa-solid fa-id-card"></i> Escanear Pasaporte o ID</button>
            <button type="button" class="btn btn-outline-secondary btn-sm" onclick="openModal('modal-selfie')"><i class="fa-solid fa-camera"></i> Tomar una Selfie</button>
          </div>
        </form>

        <div class="mt-auto text-end small text-muted">Versión 1.0</div>
      </section>

      <!-- Screen: Sign up step 2 (Pantalla D) -->
      <section id="screen-signup-step2" class="screen">
        <div class="topbar">
          <div class="brand-pill small">ARGEN-PAY</div>
          <button class="btn-close btn-close-white float-end" onclick="showScreen('screen-home')" title="Cerrar"></button>
        </div>

        <h5 class="mt-2">Elija la moneda con la que operará:</h5>

        <div class="d-flex gap-2 my-2">
          <button class="btn btn-outline-primary flex-fill">ODOLAR</button>
          <button class="btn btn-outline-primary flex-fill">EURO</button>
        </div>

        <div class="row g-2">
          <div class="col-6"><input class="form-control form-control-sm" placeholder="dd/mm/yyyy" /></div>
          <div class="col-6"><input class="form-control form-control-sm" placeholder="dd/mm/yyyy" /></div>
        </div>

        <div class="mt-3 small">
          <a href="#" onclick="openModal('modal-terms');return false;">Leer Términos</a>
          <div class="form-check mt-2">
            <input class="form-check-input" type="checkbox" id="acceptTerms">
            <label class="form-check-label" for="acceptTerms">Entiendo y acepto.</label>
          </div>
        </div>

        <div class="d-flex gap-2 mt-3">
          <button class="btn btn-secondary" onclick="showScreen('screen-signup-step1')">&lt; VOLVER</button>
          <button class="btn btn-primary ms-auto" onclick="completeSignup()">CONTINUAR</button>
        </div>

        <div class="mt-auto text-end small text-muted">Versión 1.0</div>
      </section>

      <!-- Screen: Sign up success (Pantalla E) -->
      <section id="screen-signup-done" class="screen">
        <div class="topbar">
          <div class="brand-pill small">ARGEN-PAY</div>
          <button class="btn-close btn-close-white float-end" onclick="goHome()" title="Cerrar"></button>
        </div>

        <div class="h-100 d-flex flex-column justify-content-center align-items-center text-center">
          <div class="display-6 text-success"><i class="fa-solid fa-circle-check"></i></div>
          <h5>¡Felicitaciones, su información ha sido cargada exitosamente!</h5>
          <p class="text-muted small">Le enviaremos una notificación cuando su perfil esté activo y su cuenta lista para recibir fondos.</p>
        </div>

      </section>

      <!-- Screen: Login -> main menu (Imagen 2 Pantalla B) -->
      <section id="screen-login" class="screen">
        <div class="topbar">
          <div class="brand-pill small">ARGEN-PAY</div>
          <button class="btn-close btn-close-white float-end" onclick="goHome()" title="Cerrar"></button>
        </div>

        <div class="mt-3">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <div class="small text-muted">Perfil</div>
              <div class="h4 mb-0">$ <span id="balance-usd">500.00</span> USD</div>
              <div class="small text-muted">ARS <span id="balance-ars">685,000.00</span></div>
            </div>
            <div class="text-end">
              <button class="btn btn-outline-secondary btn-sm" onclick="openModal('modal-qr')"><i class="fa-solid fa-qrcode"></i> QR SCANER</button>
            </div>
          </div>

          <div class="mt-3 d-grid gap-2">
            <button class="btn btn-light border" onclick="showScreen('screen-map')">MAPA DE PROMOCIONES</button>
            <button class="btn btn-light border" onclick="showScreen('screen-history')">HISTORIAL DE PAGOS</button>
            <button class="btn btn-success" id="btn-qr-modal" onclick="openModal('modal-qr');">QR SCANER</button>
          </div>
        </div>

        <div class="mt-auto text-end small text-muted">Versión 1.0</div>
      </section>

      <!-- Screen: History (Pantalla C historial) -->
      <section id="screen-history" class="screen">
        <div class="topbar">
          <div class="brand-pill small">ARGEN-PAY</div>
          <button class="btn-close btn-close-white float-end" onclick="showScreen('screen-login')" title="Cerrar"></button>
        </div>

        <h6 class="mt-2">Historial de Movimientos</h6>
        <div class="history-box mt-2">
          <div class="history-item">
            <div><strong>17/08/2025 - Debit</strong></div>
            <div>ARS <strong>52</strong> — USD <strong>22.67</strong></div>
          </div>
          <div class="history-item">
            <div><strong>15/08/2025 - Debit</strong></div>
            <div>ARS <strong>108</strong> — USD <strong>37.78</strong></div>
          </div>
          <div class="history-item">
            <div><strong>11/08/2025 - Credit</strong></div>
            <div>USD <strong>120.00</strong></div>
          </div>
        </div>
        <div class="d-grid mt-3">
          <button class="btn btn-light" onclick="showScreen('screen-login')">RETURN TO MAIN MENU</button>
        </div>
      </section>

      <!-- Screen: Map promotions (Pantalla D) -->
      <section id="screen-map" class="screen">
        <div class="topbar">
          <div class="brand-pill small">ARGEN-PAY</div>
          <button class="btn-close btn-close-white float-end" onclick="showScreen('screen-login')" title="Cerrar"></button>
        </div>

        <h6 class="mt-2">MAPA DE PROMOCIONES</h6>
        <div class="map-wrapper mt-2">
          <!-- Simple SVG map with clickable hotspots (replace with your svg if needed) -->
          <svg id="svg-map" viewBox="0 0 400 300" class="w-100" preserveAspectRatio="xMidYMid meet" role="img">
            <rect x="0" y="0" width="100%" height="100%" fill="#eef2ff" rx="10"/>
            <g>
              <circle cx="70" cy="80" r="14" class="map-spot" data-title="Tienda: 'El Ateneo' - 10% OFF"/>
              <circle cx="200" cy="60" r="14" class="map-spot" data-title="Atracción: 'Jardín Japonés' - 15% OFF"/>
              <circle cx="300" cy="160" r="14" class="map-spot" data-title="Cultura: 'Teatro Colón' - 20% OFF"/>
              <circle cx="120" cy="210" r="14" class="map-spot" data-title="Café: 'Las Violetas' - 20% OFF"/>
            </g>
            <text x="10" y="20" font-size="12" fill="#334155">Buenos Aires - mapa (simulado)</text>
          </svg>

          <div id="promo-card" class="promo-card d-none">
            <div id="promo-title" class="fw-bold"></div>
            <div class="mt-1 small">Tap para cerrar</div>
          </div>
        </div>

        <div class="promo-list mt-3">
          <div class="promo-item">Tienda: "El Ateneo" — <span class="badge bg-primary">10% OFF</span></div>
          <div class="promo-item">Atracción: "Jardín Japonés" — <span class="badge bg-primary">15% OFF</span></div>
          <div class="promo-item">Cultura: "Teatro Colón" — <span class="badge bg-primary">20% OFF</span></div>
          <div class="promo-item">Café: "Las Violetas" — <span class="badge bg-primary">20% OFF</span></div>
        </div>
      </section>

      <!-- Screen: Cash In/Out (Imagen 3 Pantalla B) -->
      <section id="screen-cash" class="screen">
        <div class="topbar">
          <div class="brand-pill small">ARGEN-PAY</div>
          <button class="btn-close btn-close-white float-end" onclick="goHome()" title="Cerrar"></button>
        </div>

        <h6 class="mt-2">Datos Bancarios:</h6>

        <div class="bank-card border rounded p-2 mb-3">
          <div><strong>Beneficiary:</strong> Josh Smith</div>
          <div><strong>Account Number:</strong> XXXXXX</div>
          <div><strong>Country:</strong> Argentina</div>
          <div><strong>Bank Name:</strong> Banco X</div>
          <div><strong>SWIFT Code:</strong> BACOARBA</div>
          <div><strong>Sucursal Nº:</strong> 999</div>
        </div>

        <div class="d-grid gap-2">
          <button class="btn btn-outline-primary" onclick="openModal('modal-share')"><i class="fa-solid fa-share-from-square"></i> SHARE DETAILS</button>
          <button class="btn btn-outline-danger" onclick="openModal('modal-rescue')"><i class="fa-solid fa-life-ring"></i> RESCUE ORDER</button>
        </div>

        <div class="mt-auto text-end small text-muted">Versión 1.0</div>
      </section>

    </div> <!-- end phone-screen -->
  </div> <!-- end phone-outer -->

  <!-- Modals (custom simple modals) -->
  <div id="modal-root"></div>

  <!-- Hidden modal templates -->
  <template id="tmpl-modal-qr">
    <div class="modal-overlay" data-modal="modal-qr">
      <div class="modal-dialog">
        <button class="modal-close" onclick="closeModal('modal-qr')">✕</button>
        <h5>QR Scanner</h5>
        <p class="small text-muted">Cámara activada para escanear QR (simulado).</p>
        <div class="mt-2 text-end">
          <button class="btn btn-primary btn-sm" onclick="closeModal('modal-qr')">Cerrar</button>
        </div>
      </div>
    </div>
  </template>

  <template id="tmpl-modal-scan">
    <div class="modal-overlay" data-modal="modal-scan">
      <div class="modal-dialog">
        <button class="modal-close" onclick="closeModal('modal-scan')">✕</button>
        <h5>Cámara</h5>
        <p class="small text-muted">Cámara habilitada para escanear documento (simulado).</p>
        <div class="mt-2 text-end">
          <button class="btn btn-primary btn-sm" onclick="closeModal('modal-scan')">Cerrar</button>
        </div>
      </div>
    </div>
  </template>

  <template id="tmpl-modal-selfie">
    <div class="modal-overlay" data-modal="modal-selfie">
      <div class="modal-dialog">
        <button class="modal-close" onclick="closeModal('modal-selfie')">✕</button>
        <h5>Tomar Selfie</h5>
        <p class="small text-muted">Cámara habilitada para tomar una selfie (simulado).</p>
        <div class="mt-2 text-end">
          <button class="btn btn-primary btn-sm" onclick="closeModal('modal-selfie')">Cerrar</button>
        </div>
      </div>
    </div>
  </template>

  <template id="tmpl-modal-terms">
    <div class="modal-overlay" data-modal="modal-terms">
      <div class="modal-dialog modal-large">
        <button class="modal-close" onclick="closeModal('modal-terms')">✕</button>
        <h5>Términos y Condiciones</h5>
        <div class="terms-box">
          <p>Texto de términos (demo). Aquí puede colgar los términos y condiciones reales del servicio.</p>
          <p class="small text-muted">Lorem ipsum dolor sit amet, consectetur adipiscing elit...</p>
        </div>
        <div class="mt-2 text-end">
          <button class="btn btn-primary btn-sm" onclick="closeModal('modal-terms')">Aceptar</button>
        </div>
      </div>
    </div>
  </template>

  <template id="tmpl-modal-share">
    <div class="modal-overlay" data-modal="modal-share">
      <div class="modal-dialog">
        <button class="modal-close" onclick="closeModal('modal-share')">✕</button>
        <h5>Descargando PDF</h5>
        <p class="small text-muted">Generando PDF con los datos para facilitar la transferencia a su banco (simulado).</p>
        <div class="mt-2 text-end">
          <button class="btn btn-primary btn-sm" onclick="closeModal('modal-share')">Cerrar</button>
        </div>
      </div>
    </div>
  </template>

  <template id="tmpl-modal-rescue">
    <div class="modal-overlay" data-modal="modal-rescue">
      <div class="modal-dialog">
        <button class="modal-close" onclick="closeModal('modal-rescue')">✕</button>
        <h5>Rescue Order</h5>
        <p class="small text-muted">Sus fondos restantes serán transferidos nuevamente a su banco de origen (simulado).</p>
        <div class="mt-2 text-end">
          <button class="btn btn-danger btn-sm" onclick="closeModal('modal-rescue')">Confirmar</button>
          <button class="btn btn-secondary btn-sm" onclick="closeModal('modal-rescue')">Cancelar</button>
        </div>
      </div>
    </div>
  </template>

  <!-- Bootstrap JS (for components if needed) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- SPA logic -->
  <script>
    // Simple SPA screen switching
    function showScreen(id) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      const el = document.getElementById(id);
      if (el) el.classList.add('active');
      // hide any promo card
      hidePromo();
    }

    function goHome() {
      showScreen('screen-home');
      closeAllModals();
    }

    // initial button hooks
    document.getElementById('btn-signin').addEventListener('click', () => showScreen('screen-lang'));
    document.getElementById('btn-login').addEventListener('click', () => showScreen('screen-login'));
    document.getElementById('btn-cash').addEventListener('click', () => showScreen('screen-cash'));

    // complete signup -> final success screen
    function completeSignup() {
      // In real app validate fields & checkbox; here we simulate
      showScreen('screen-signup-done');
    }

    // Modal management (template-based)
    function openModal(name) {
      // if modal exists already, don't duplicate
      if (document.querySelector('[data-modal="'+name+'"]')) return;
      const templateId = {
        'modal-qr': 'tmpl-modal-qr',
        'modal-scan': 'tmpl-modal-scan',
        'modal-selfie': 'tmpl-modal-selfie',
        'modal-terms': 'tmpl-modal-terms',
        'modal-share': 'tmpl-modal-share',
        'modal-rescue': 'tmpl-modal-rescue'
      }[name];
      if (!templateId) return;
      const tpl = document.getElementById(templateId);
      const node = tpl.content.cloneNode(true);
      document.getElementById('modal-root').appendChild(node);
      // click outside to close
      const overlay = document.querySelector('[data-modal="'+name+'"]');
      overlay.addEventListener('click', function(e){
        if (e.target === overlay) closeModal(name);
      });
    }

    function closeModal(name) {
      const el = document.querySelector('[data-modal="'+name+'"]');
      if (el) el.remove();
    }

    function closeAllModals() {
      document.querySelectorAll('.modal-overlay').forEach(m => m.remove());
    }

    // Promo SVG interaction
    const svg = document.getElementById('svg-map');
    if (svg) {
      svg.querySelectorAll('.map-spot').forEach(spot => {
        spot.style.cursor = 'pointer';
        spot.addEventListener('click', () => {
          const title = spot.getAttribute('data-title') || 'Promoción';
          showPromo(title, spot);
        });
      });
    }

    function showPromo(text, spot) {
      const card = document.getElementById('promo-card');
      const title = document.getElementById('promo-title');
      title.textContent = text;
      card.classList.remove('d-none');
      // position card near spot
      const pt = spot.getBoundingClientRect();
      const svgRect = svg.getBoundingClientRect();
      const left = Math.max(8, pt.left - svgRect.left - 20);
      const top = Math.max(8, pt.top - svgRect.top + 10);
      card.style.left = left + 'px';
      card.style.top = top + 'px';
      card.onclick = hidePromo;
    }
    function hidePromo() {
      const card = document.getElementById('promo-card');
      if (card) {
        card.classList.add('d-none');
        card.onclick = null;
      }
    }

    // keep phone view centered on load
    window.addEventListener('load', () => {
      // start on home
      showScreen('screen-home');
    });
  </script>
</body>
</html>
